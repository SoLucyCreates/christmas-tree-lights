"use strict";var O=Object.defineProperty;var A=(i,t,s)=>t in i?O(i,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):i[t]=s;var l=(i,t,s)=>(A(i,typeof t!="symbol"?t+"":t,s),s);Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});class y{constructor(t,s,n){this.x=t,this.y=s,this.z=n}static fromObject(t){return new y(t.x,t.y,t.z)}static fromTuple(t){return new y(t[0],t[1],t[2])}static zero(){return new y(0,0,0)}static forward(){return new y(0,0,1)}static backward(){return new y(0,0,-1)}static up(){return new y(0,1,0)}static down(){return new y(0,-1,0)}static left(){return new y(-1,0,0)}static right(){return new y(1,0,0)}static randomOnSphere(t){const s=Math.random(),n=Math.random(),e=2*Math.PI*s,r=Math.acos(2*n-1),x=t*Math.sin(r)*Math.cos(e),z=t*Math.sin(r)*Math.sin(e),h=t*Math.cos(r);return new y(x,z,h)}static randomInSphere(t){const s=Math.random(),n=Math.random(),e=2*Math.PI*s,r=Math.acos(2*n-1),x=t*Math.cbrt(Math.random()),z=x*Math.sin(r)*Math.cos(e),h=x*Math.sin(r)*Math.sin(e),c=x*Math.cos(r);return new y(z,h,c)}clone(){return new y(this.x,this.y,this.z)}add(t){return new y(this.x+t.x,this.y+t.y,this.z+t.z)}sub(t){return new y(this.x-t.x,this.y-t.y,this.z-t.z)}mult(t){return new y(this.x*t.x,this.y*t.y,this.z*t.z)}dot(t){return this.x*t.x+this.y*t.y+this.z*t.z}cross(t){const s=this.y*t.z-this.z*t.y,n=this.z*t.x-this.x*t.z,e=this.x*t.y-this.y*t.x;return new y(s,n,e)}scale(t){return new y(this.x*t,this.y*t,this.z*t)}limitLength(t=1){return this.length<=t?this.clone():this.asLength(t)}asLength(t){return this.normalized.scale(t)}distanceTo(t){return Math.hypot(this.x-t.x,this.y-t.y,this.z-t.z)}get squaredMagnitude(){return this.x**2+this.y**2+this.z**2}get length(){return Math.hypot(this.x,this.y,this.z)}get normalized(){const t=this.length;return new y(this.x/t,this.y/t,this.z/t)}get asTuple(){return[this.x,this.y,this.z]}get asObject(){return{x:this.x,y:this.y,z:this.z}}negate(){return new y(-this.x,-this.y,-this.z)}rotateXYZ(t){const{x:s,y:n,z:e}=t,r=Math.cos(s),x=Math.sin(s),z=Math.cos(n),h=Math.sin(n),c=Math.cos(e),u=Math.sin(e),m=this.x*(z*c)+this.y*(r*u+x*h*c)+this.z*(x*u-r*h*c),g=this.x*(-z*u)+this.y*(r*c-x*h*u)+this.z*(x*c+r*h*u),X=this.x*h+this.y*(-x*z)+this.z*(r*z);return new y(m,g,X)}rotateXY(t){const s=Math.cos(t),n=Math.sin(t),e=this.x*s-this.y*n,r=this.x*n+this.y*s;return new y(e,r,this.z)}rotateYZ(t){const s=Math.cos(t),n=Math.sin(t),e=this.y*s-this.z*n,r=this.y*n+this.z*s;return new y(this.x,e,r)}rotateZX(t){const s=Math.cos(t),n=Math.sin(t),e=this.z*s-this.x*n,r=this.z*n+this.x*s;return new y(r,this.y,e)}rotateAroundAxis(t,s){const n=Math.cos(s),e=Math.sin(s),r=this.dot(t),x=t.y*this.z-t.z*this.y,z=t.z*this.x-t.x*this.z,h=t.x*this.y-t.y*this.x,c=this.x*n+x*e+r*(1-n)*t.x,u=this.y*n+z*e+r*(1-n)*t.y,m=this.z*n+h*e+r*(1-n)*t.z;return new y(c,u,m)}angleBetween(t){const s=this.dot(t),n=this.length*t.length;return Math.acos(s/n)}projectOnto(t){const s=this.dot(t),n=t.squaredMagnitude;if(n===0)throw new Error("Cannot project onto a zero-length vector.");const e=s/n;return t.scale(e)}midpoint(t){return new y((this.x+t.x)/2,(this.y+t.y)/2,(this.z+t.z)/2)}}const Z=180/Math.PI,k=Math.PI/180,p=Y(Array.from({length:256},(i,t)=>t));function L(i){return i*i*i*(i*(i*6-15)+10)}function M(i,t,s){const n=i&15,e=n<8?t:s,r=n<4?s:n===12||n===14?t:0;return(n&1?-e:e)+(n&2?-r:r)}function j(i,t){const s=Math.floor(i)&255,n=Math.floor(t)&255;i-=Math.floor(i),t-=Math.floor(t);const e=L(i),r=L(t),x=p[s]+n,z=p[s+1]+n;return b(b(M(p[x],i,t),M(p[z],i-1,t),e),b(M(p[x+1],i,t-1),M(p[z+1],i-1,t-1),e),r)}function d(i,t,s){return Math.min(Math.max(i,t),s)}function D(i,t,s){return i<t||i>s?null:(i-t)/(s-t)}function b(i,t,s){return i+(t-i)*s}function q(i,t,s){return i+T(t,i)*s}function T(i,t){return(t-i+180)%360-180}function H(i,t){return(i%t+t)%t}function w(i,t){return i+Math.random()*(t-i)}function P(i,t){return Math.floor(w(i,t))}function E(i){return i[P(0,i.length)]}function S(){return Math.random()<.5}function G(){return S()?1:-1}function F(i,t=[0,0]){const s=w(0,Math.PI*2),n=i*Math.sqrt(Math.random()),[e,r]=t;return[e+Math.cos(s)*n,r+Math.sin(s)*n]}function $(i,t=[0,0]){const s=w(0,Math.PI*2),[n,e]=t;return[n+Math.cos(s)*i,e+Math.sin(s)*i]}function N(i=0,t=360,s=100,n=50){const e=w(i,t);return o.fromHSL(e,s,n)}function Y(i){const t=i.slice();for(let s=t.length-1;s>0;s--){const n=P(0,s+1);[t[s],t[n]]=[t[n],t[s]]}return t}function U(i){for(let t=i.length-1;t>0;t--){const s=P(0,t+1);[i[t],i[s]]=[i[s],i[t]]}return i}function C(i){return new Promise(t=>setTimeout(t,i))}function W(i,t){let s=null;return(...e)=>{s!==null&&clearTimeout(s),s=setTimeout(()=>i(...e),t)}}const J=Object.freeze(Object.defineProperty({__proto__:null,DEG_TO_RAD:k,RAD_TO_DEG:Z,angleDifference:T,clamp:d,debounce:W,lerp:b,lerpAngle:q,mod:H,normalizeWithinRange:D,perlinNoise:j,random:w,randomBool:S,randomChoice:E,randomColorByHue:N,randomInCircle:F,randomInt:P,randomOnCircle:$,randomSign:G,shuffle:Y,shuffleInPlace:U,sleep:C},Symbol.toStringTag,{value:"Module"}));var R=(i=>(i[i.Normal=0]="Normal",i[i.Multiply=1]="Multiply",i[i.Screen=2]="Screen",i[i.Overlay=3]="Overlay",i[i.Darken=4]="Darken",i[i.Lighten=5]="Lighten",i[i.ColorDodge=6]="ColorDodge",i[i.ColorBurn=7]="ColorBurn",i[i.HardLight=8]="HardLight",i[i.SoftLight=9]="SoftLight",i[i.Difference=10]="Difference",i[i.Exclusion=11]="Exclusion",i[i.Gamma=12]="Gamma",i))(R||{});const f=class f{constructor(t,s,n){this.red=t,this.green=s,this.blue=n}blendChannel(t,s,n){return d(Math.round(n(t/255,s/255)*255),0,255)}blend(t,s=5){const n=f.blendFuncs[s];return new f(this.blendChannel(this.red,t.red,n),this.blendChannel(this.green,t.green,n),this.blendChannel(this.blue,t.blue,n))}toHSL(){const t=this.red/255,s=this.green/255,n=this.blue/255,e=Math.max(t,s,n),r=Math.min(t,s,n);let x=(e+r)/2,z=x;const h=x;if(e===r)x=z=0;else{const c=e-r;switch(z=h>.5?c/(2-e-r):c/(e+r),e){case t:x=(s-n)/c+(s<n?6:0);break;case s:x=(n-t)/c+2;break;case n:x=(t-s)/c+4;break}x/=6}return[Math.round(x*360),Math.round(z*100),Math.round(h*100)]}complementary(){const[t,s,n]=this.toHSL();return f.fromHSL((t+180)%360,s,n)}intensity(t){return new f(d(Math.round(this.red*t),0,255),d(Math.round(this.green*t),0,255),d(Math.round(this.blue*t),0,255))}toString(){return`rgb(${this.red}, ${this.green}, ${this.blue})`}toInt(){return(this.red&255)<<16|(this.green&255)<<8|this.blue&255}static fromInt(t){return t=d(t,0,16777215),new f(t>>16&255,t>>8&255,t&255)}static fromHex(t){const s=t.match(/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i);if(!s)throw new Error(`Invalid hex color: ${t}`);return new f(parseInt(s[1],16),parseInt(s[2],16),parseInt(s[3],16))}static fromRGB(t,s,n){return t=d(t,0,255),s=d(s,0,255),n=d(n,0,255),new f(t,s,n)}static fromHSL(t,s,n){t=d(t,0,360),s=d(s,0,100),n=d(n,0,100),t/=360,s/=100,n/=100;let e,r,x;if(s===0)e=r=x=n;else{const z=(u,m,g)=>(g<0&&(g+=1),g>1&&(g-=1),g<.16666666666666666?u+(m-u)*6*g:g<.5?m:g<.6666666666666666?u+(m-u)*(.6666666666666666-g)*6:u),h=n<.5?n*(1+s):n+s-n*s,c=2*n-h;e=z(c,h,t+1/3),r=z(c,h,t),x=z(c,h,t-1/3)}return new f(Math.round(e*255),Math.round(r*255),Math.round(x*255))}};l(f,"blendFuncs",{0:(t,s)=>s,1:(t,s)=>t*s,2:(t,s)=>t+s-t*s,3:(t,s)=>t<.5?2*t*s:1-2*(1-t)*(1-s),4:(t,s)=>Math.min(t,s),5:(t,s)=>Math.max(t,s),6:(t,s)=>s===1?1:Math.min(1,t/(1-s)),7:(t,s)=>s===0?0:1-Math.min(1,(1-t)/s),8:(t,s)=>s<.5?2*t*s:1-2*(1-t)*(1-s),9:(t,s)=>s<.5?2*t*s+t*t*(1-2*s):Math.sqrt(t)*(2*s-1)+2*t*(1-s),10:(t,s)=>Math.abs(t-s),11:(t,s)=>t+s-2*t*s,12:(t,s)=>((t**2.2+s**2.2)/2)**(1/2.2)});let o=f;const K={red:new o(255,0,0),green:new o(0,255,0),blue:new o(0,0,255),orange:new o(255,165,0),yellow:new o(255,255,0),purple:new o(128,0,128),pink:new o(255,20,147),white:new o(255,255,255),black:new o(0,0,0),gray:new o(128,128,128),brown:new o(165,42,42),cyan:new o(0,255,255),darkGreen:new o(0,128,0),darkBlue:new o(0,0,128),darkOrange:new o(255,140,0),darkYellow:new o(128,128,0),darkPurple:new o(75,0,130),darkPink:new o(255,105,180),darkGray:new o(64,64,64),darkBrown:new o(139,69,19),darkCyan:new o(0,128,128)};class I{constructor(t,s){l(this,"_location");l(this,"color");l(this,"update");this._location=t,this.color=s}get location(){return new y(this._location.x,this._location.y,1-this._location.z)}get locationScaled(){return this.location.mult(new y(1,1,1.74))}get locationOriginCenter(){return this.location.sub(new y(.5,.5,.5))}get locationOriginCenterScaled(){return this.locationOriginCenter.mult(new y(1,1,1.74))}get locationOriginCenterBottom(){return this.location.sub(new y(.5,.5,0))}get locationOriginCenterBottomScaled(){return this.locationOriginCenterBottom.mult(new y(1,1,1.74))}toDto(){return{location:this._location.asTuple,color:this.color.toInt()}}static fromDto(t){return new I(y.fromTuple(t.location),o.fromInt(t.color))}}class a{constructor(){}isPointInside(t,s,n){return!1}}class Q extends a{constructor(t,s,n){super(),this.radius=t,this.height=s,this.center=n}isPointInside(t,s,n){const e=Math.sqrt((t-this.center.x)**2+(s-this.center.y)**2),x=this.radius/this.height*(n-this.center.z)+this.radius;return e<=x&&n>=this.center.z-this.height/2&&n<=this.center.z+this.height/2}}class B extends a{constructor(t,s,n,e){super(),this.nearRadius=t,this.farRadius=s,this.height=n,this.center=e}isPointInside(t,s,n){const e=Math.sqrt((t-this.center.x)**2+(s-this.center.y)**2),x=(this.farRadius-this.nearRadius)/this.height*(n-this.center.z)+this.nearRadius;return e<=x&&n>=this.center.z-this.height/2&&n<=this.center.z+this.height/2}}class v extends a{constructor(t,s){super(),this.sideLength=t,this.center=s}isPointInside(t,s,n){const e=this.sideLength/2;return Math.abs(t-this.center.x)<=e&&Math.abs(s-this.center.y)<=e&&Math.abs(n-this.center.z)<=e}}class _ extends a{constructor(t,s,n,e){super(),this.lengthX=t,this.lengthY=s,this.lengthZ=n,this.center=e}isPointInside(t,s,n){const e=this.lengthX/2,r=this.lengthY/2,x=this.lengthZ/2;return t>=this.center.x-e&&t<=this.center.x+e&&s>=this.center.y-r&&s<=this.center.y+r&&n>=this.center.z-x&&n<=this.center.z+x}}class V extends a{constructor(t,s,n){super(),this.radius=t,this.height=s,this.center=n}isPointInside(t,s,n){return Math.sqrt((t-this.center.x)**2+(s-this.center.y)**2)<=this.radius&&n>=this.center.z-this.height/2&&n<=this.center.z+this.height/2}}class t0 extends a{constructor(t,s,n,e){super(),this.majorRadius=t,this.minorRadius=s,this.height=n,this.center=e}isPointInside(t,s,n){return Math.sqrt((t-this.center.x)**2+(s-this.center.y)**2)<=this.majorRadius&&n>=this.center.z-this.height/2&&n<=this.center.z+this.height/2&&Math.sqrt((t-this.center.x)**2/this.majorRadius**2+(s-this.center.y)**2/this.minorRadius**2)<=1}}class s0 extends a{constructor(t,s,n,e){super(),this.semiAxisX=t,this.semiAxisY=s,this.semiAxisZ=n,this.center=e}isPointInside(t,s,n){const e=(t-this.center.x)/this.semiAxisX,r=(s-this.center.y)/this.semiAxisY,x=(n-this.center.z)/this.semiAxisZ;return e**2+r**2+x**2<=1}}class n0 extends a{constructor(t,s,n,e,r,x,z){super(),this.near=t,this.far=s,this.left=n,this.right=e,this.top=r,this.bottom=x,this.center=z}isPointInside(t,s,n){const e=this.near/2,r=this.far/2;return t>=this.center.x-e&&t<=this.center.x+e&&s>=this.center.y-e&&s<=this.center.y+e&&n>=this.center.z-e&&n<=this.center.z+r}}class e0 extends a{constructor(t,s,n){super(),this.sideLength=t,this.height=s,this.center=n}isPointInside(t,s,n){const e=this.sideLength/2,r=this.center.z+this.height/2,x=this.center.z-this.height/2;this.center.x+e,this.center.y+e;const z=Math.abs(t-this.center.x),h=Math.abs(s-this.center.y);return n>=x&&n<=r&&z<=e&&h<=e&&(z+h)*Math.sqrt(3)/2<=e}}class i0 extends a{constructor(t,s){super(),this.edgeLength=t,this.center=s}isPointInside(t,s,n){const e=this.edgeLength/2,r=this.center.z+e,x=this.center.z-e;this.center.x+e,this.center.y+e;const z=Math.abs(t-this.center.x),h=Math.abs(s-this.center.y);return n>=x&&n<=r&&z+h+Math.abs(n-this.center.z)<=e}}class r0 extends a{constructor(t,s,n){super(),this.baseLength=t,this.height=s,this.center=n}isPointInside(t,s,n){const e=this.baseLength/2,r=this.center.z+this.height/2,x=this.center.z-this.height/2,z=this.center.x+e,h=this.center.y+e;return!(n>r||n<x||t>z||t<this.center.x-e||s>h||s<this.center.y-e)}}class x0 extends a{constructor(t,s,n,e){super(),this.lengthX=t,this.lengthY=s,this.lengthZ=n,this.center=e}isPointInside(t,s,n){const e=this.lengthX/2,r=this.lengthY/2,x=this.lengthZ/2;return t>=this.center.x-e&&t<=this.center.x+e&&s>=this.center.y-r&&s<=this.center.y+r&&n>=this.center.z-x&&n<=this.center.z+x}}class y0 extends a{constructor(t,s){super(),this.radius=t,this.center=s}isPointInside(t,s,n){return Math.sqrt((t-this.center.x)**2+(s-this.center.y)**2+(n-this.center.z)**2)<=this.radius}}class z0 extends a{constructor(t,s,n){super(),this.majorRadius=t,this.minorRadius=s,this.center=n}isPointInside(t,s,n){const e=Math.sqrt((t-this.center.x)**2+(s-this.center.y)**2);return e>=this.majorRadius-this.minorRadius&&e<=this.majorRadius+this.minorRadius&&Math.abs(n-this.center.z)<=this.minorRadius}}class h0 extends a{constructor(t,s,n){super(),this.baseLength=t,this.height=s,this.center=n}isPointInside(t,s,n){const e=this.baseLength/2,r=this.center.z+this.height/2,x=this.center.z-this.height/2,z=this.center.x+e,h=this.center.y+e;return n>=x&&n<=r&&t>=this.center.x-e&&t<=z&&s>=this.center.y-e&&s<=h}}const o0=Object.freeze(Object.defineProperty({__proto__:null,Cone:Q,ConeFrustum:B,Cube:v,Cuboid:_,Cylinder:V,CylinderWithEllipticalBase:t0,Ellipsoid:s0,Frustum:n0,HexagonalPrism:e0,Octahedron:i0,Pyramid:r0,RectangularPrism:x0,Shape:a,Sphere:y0,Torus:z0,TriangularPyramid:h0},Symbol.toStringTag,{value:"Module"})),c0=[{x:.5,y:.056,z:1},{x:.526,y:.042,z:.969},{x:.526,y:.042,z:.922},{x:.487,y:.097,z:.938},{x:.447,y:.097,z:.961},{x:.421,y:.222,z:.961},{x:.526,y:.153,z:.922},{x:.421,y:.139,z:.938},{x:.395,y:.181,z:.961},{x:.368,y:.222,z:.969},{x:.237,y:.25,z:.977},{x:.224,y:.319,z:1},{x:.184,y:.333,z:.977},{x:.158,y:.361,z:.93},{x:.158,y:.417,z:.969},{x:.132,y:.514,z:.953},{x:.197,y:.556,z:.984},{x:.145,y:.597,z:.961},{x:.132,y:.667,z:.946},{x:.145,y:.722,z:.938},{x:.184,y:.778,z:.938},{x:.211,y:.806,z:.961},{x:.316,y:.778,z:.969},{x:.368,y:.806,z:.961},{x:.434,y:.778,z:.922},{x:.487,y:.819,z:.953},{x:.566,y:.792,z:.953},{x:.658,y:.75,z:.969},{x:.684,y:.722,z:.969},{x:.711,y:.708,z:1},{x:.803,y:.681,z:1},{x:.855,y:.625,z:1},{x:.895,y:.583,z:.969},{x:1,y:.528,z:.938},{x:.987,y:.472,z:.984},{x:.895,y:.417,z:.984},{x:.868,y:.375,z:.969},{x:.921,y:.319,z:.922},{x:.895,y:.278,z:.899},{x:.803,y:.194,z:.876},{x:.789,y:.208,z:.899},{x:.684,y:.181,z:.891},{x:.671,y:.181,z:.876},{x:.605,y:.181,z:.868},{x:.566,y:.139,z:.891},{x:.5,y:.153,z:.907},{x:.434,y:.139,z:.907},{x:.342,y:.167,z:.915},{x:.303,y:.139,z:.899},{x:.237,y:.153,z:.868},{x:.145,y:.333,z:.822},{x:.145,y:.444,z:.814},{x:.105,y:.5,z:.798},{x:.118,y:.542,z:.822},{x:.197,y:.597,z:.798},{x:.224,y:.667,z:.822},{x:.237,y:.736,z:.837},{x:.276,y:.806,z:.837},{x:.303,y:.833,z:.86},{x:.368,y:.889,z:.86},{x:.421,y:.889,z:.86},{x:.513,y:.833,z:.853},{x:.579,y:.847,z:.845},{x:.658,y:.889,z:.837},{x:.697,y:.861,z:.822},{x:.816,y:.819,z:.822},{x:.842,y:.764,z:.845},{x:.816,y:.694,z:.876},{x:.789,y:.611,z:.868},{x:.868,y:.528,z:.884},{x:.921,y:.514,z:.845},{x:.947,y:.417,z:.86},{x:.882,y:.347,z:.868},{x:.816,y:.333,z:.86},{x:.789,y:.264,z:.845},{x:.724,y:.306,z:.829},{x:.684,y:.208,z:.806},{x:.579,y:.264,z:.806},{x:.513,y:.236,z:.798},{x:.447,y:.236,z:.767},{x:.382,y:.264,z:.775},{x:.342,y:.278,z:.767},{x:.303,y:.333,z:.775},{x:.289,y:.417,z:.775},{x:.289,y:.486,z:.775},{x:.25,y:.569,z:.767},{x:.263,y:.639,z:.767},{x:.263,y:.75,z:.767},{x:.289,y:.792,z:.767},{x:.368,y:.875,z:.744},{x:.395,y:.875,z:.775},{x:.474,y:.875,z:.791},{x:.539,y:.875,z:.814},{x:.605,y:.806,z:.791},{x:.697,y:.764,z:.744},{x:.763,y:.806,z:.744},{x:.724,y:.736,z:.752},{x:.763,y:.639,z:.76},{x:.737,y:.569,z:.736},{x:.487,y:.528,z:.775},{x:.605,y:.431,z:.798},{x:.618,y:.361,z:.829},{x:.579,y:.389,z:.829},{x:.487,y:.347,z:.845},{x:.447,y:.444,z:.845},{x:.408,y:.431,z:.876},{x:.421,y:.472,z:.876},{x:.368,y:.556,z:.891},{x:.382,y:.583,z:.876},{x:.461,y:.611,z:.853},{x:.487,y:.611,z:.853},{x:.526,y:.667,z:.837},{x:.618,y:.611,z:.86},{x:.632,y:.611,z:.868},{x:.671,y:.514,z:.876},{x:.684,y:.458,z:.899},{x:.763,y:.431,z:.899},{x:.803,y:.333,z:.907},{x:.789,y:.25,z:.891},{x:.842,y:.167,z:.899},{x:.789,y:.222,z:.938},{x:.711,y:.111,z:.93},{x:.408,y:.194,z:.938},{x:.632,y:.167,z:.93},{x:.605,y:.083,z:.946},{x:.526,y:.014,z:.961},{x:.434,y:0,z:.938},{x:.368,y:.042,z:.953},{x:.368,y:.139,z:.946},{x:.276,y:.167,z:.946},{x:.25,y:.222,z:.946},{x:.211,y:.25,z:.876},{x:.145,y:.222,z:.915},{x:.092,y:.194,z:.907},{x:.026,y:.278,z:.93},{x:.105,y:.347,z:.953},{x:.013,y:.389,z:.961},{x:.092,y:.5,z:.977},{x:.026,y:.583,z:.984},{x:0,y:.625,z:.953},{x:.026,y:.694,z:.953},{x:.053,y:.75,z:.961},{x:.105,y:.75,z:.977},{x:.211,y:.764,z:.977},{x:.237,y:.792,z:.969},{x:.355,y:.764,z:.961},{x:.118,y:.792,z:.946},{x:.474,y:.819,z:.907},{x:.447,y:.861,z:.876},{x:.5,y:.806,z:.837},{x:.579,y:.917,z:.798},{x:.658,y:.917,z:.775},{x:.684,y:.958,z:.806},{x:.724,y:.972,z:.86},{x:.658,y:.986,z:.884},{x:.605,y:.972,z:.884},{x:.513,y:1,z:.891},{x:.474,y:.917,z:.884},{x:.368,y:.931,z:.876},{x:.329,y:.875,z:.876},{x:.263,y:.931,z:.829},{x:.211,y:.903,z:.86},{x:.158,y:.833,z:.868},{x:.105,y:.75,z:.884},{x:.132,y:.653,z:.837},{x:.105,y:.625,z:.853},{x:.039,y:.569,z:.806},{x:.053,y:.528,z:.822},{x:.105,y:.458,z:.806},{x:.132,y:.375,z:.767},{x:.211,y:.333,z:.798},{x:.263,y:.319,z:.775},{x:.289,y:.25,z:.775},{x:.263,y:.403,z:.767},{x:.355,y:.167,z:.798},{x:.408,y:.125,z:.814},{x:.487,y:.125,z:.806},{x:.553,y:.069,z:.791},{x:.632,y:.083,z:.775},{x:.671,y:.069,z:.736},{x:.632,y:.194,z:.752},{x:.737,y:.208,z:.752},{x:.763,y:.25,z:.76},{x:.776,y:.319,z:.791},{x:.763,y:.361,z:.806},{x:.789,y:.444,z:.806},{x:.776,y:.5,z:.806},{x:.711,y:.583,z:.775},{x:.711,y:.611,z:.775},{x:.658,y:.708,z:.752},{x:.592,y:.75,z:.736},{x:.618,y:.708,z:.798},{x:.592,y:.722,z:.721},{x:.487,y:.736,z:.744},{x:.474,y:.708,z:.783},{x:.447,y:.639,z:.783},{x:.395,y:.625,z:.767},{x:.421,y:.583,z:.744},{x:.368,y:.611,z:.736},{x:.316,y:.569,z:.69},{x:.25,y:.653,z:.69},{x:.184,y:.667,z:.682},{x:.237,y:.681,z:.721},{x:.158,y:.722,z:.767},{x:.224,y:.764,z:.783},{x:.289,y:.764,z:.744},{x:.342,y:.778,z:.76},{x:.408,y:.736,z:.713},{x:.434,y:.806,z:.729},{x:.5,y:.875,z:.713},{x:.553,y:.875,z:.744},{x:.632,y:.847,z:.744},{x:.711,y:.806,z:.721},{x:.684,y:.806,z:.682},{x:.789,y:.792,z:.69},{x:.711,y:.694,z:.667},{x:.789,y:.708,z:.721},{x:.763,y:.639,z:.713},{x:.868,y:.583,z:.721},{x:.855,y:.458,z:.698},{x:.855,y:.472,z:.698},{x:.842,y:.403,z:.674},{x:.776,y:.333,z:.682},{x:.737,y:.25,z:.682},{x:.434,y:.264,z:.705},{x:.658,y:.222,z:.674},{x:.553,y:.222,z:.69},{x:.526,y:.181,z:.659},{x:.434,y:.111,z:.667},{x:.368,y:.167,z:.674},{x:.316,y:.222,z:.651},{x:.316,y:.278,z:.674},{x:.263,y:.292,z:.674},{x:.25,y:.361,z:.667},{x:.211,y:.458,z:.612},{x:.237,y:.514,z:.667},{x:.237,y:.542,z:.667},{x:.263,y:.653,z:.667},{x:.224,y:.694,z:.659},{x:.289,y:.764,z:.628},{x:.276,y:.847,z:.643},{x:.355,y:.819,z:.659},{x:.408,y:.903,z:.667},{x:.474,y:.889,z:.69},{x:.553,y:.861,z:.69},{x:.605,y:.903,z:.682},{x:.671,y:.847,z:.674},{x:.737,y:.889,z:.643},{x:.763,y:.806,z:.659},{x:.763,y:.75,z:.674},{x:.842,y:.611,z:.628},{x:.816,y:.5,z:.589},{x:.895,y:.5,z:.581},{x:.592,y:.444,z:.636},{x:.816,y:.417,z:.659},{x:.737,y:.347,z:.667},{x:.658,y:.278,z:.628},{x:.658,y:.25,z:.605},{x:.592,y:.222,z:.612},{x:.553,y:.278,z:.659},{x:.539,y:.278,z:.659},{x:.461,y:.278,z:.651},{x:.434,y:.292,z:.566},{x:.382,y:.292,z:.651},{x:.342,y:.333,z:.667},{x:.303,y:.431,z:.651},{x:.224,y:.389,z:.62},{x:.289,y:.431,z:.62},{x:.211,y:.528,z:.643},{x:.316,y:.611,z:.674},{x:.342,y:.667,z:.651},{x:.355,y:.653,z:.643},{x:.395,y:.667,z:.589},{x:.395,y:.653,z:.574},{x:.474,y:.639,z:.581},{x:.461,y:.583,z:.597},{x:.566,y:.569,z:.581},{x:.513,y:.458,z:.597},{x:.447,y:.486,z:.589},{x:.421,y:.417,z:.574},{x:.368,y:.375,z:.504},{x:.316,y:.306,z:.504},{x:.303,y:.403,z:.519},{x:.289,y:.486,z:.488},{x:.316,y:.5,z:.543},{x:.421,y:.611,z:.55},{x:.447,y:.667,z:.55},{x:.5,y:.625,z:.55},{x:.5,y:.556,z:.543},{x:.566,y:.556,z:.527},{x:.513,y:.5,z:.519},{x:.553,y:.389,z:.488},{x:.487,y:.306,z:.473},{x:.447,y:.236,z:.457},{x:.434,y:.292,z:.496},{x:.368,y:.306,z:.504},{x:.342,y:.361,z:.504},{x:.289,y:.403,z:.473},{x:.303,y:.458,z:.519},{x:.303,y:.542,z:.504},{x:.395,y:.694,z:.481},{x:.368,y:.75,z:.488},{x:.447,y:.75,z:.496},{x:.474,y:.833,z:.488},{x:.553,y:.792,z:.488},{x:.605,y:.833,z:.481},{x:.658,y:.764,z:.442},{x:.737,y:.708,z:.465},{x:.737,y:.639,z:.481},{x:.737,y:.597,z:.488},{x:.711,y:.542,z:.504},{x:.789,y:.472,z:.512},{x:.789,y:.375,z:.519},{x:.737,y:.306,z:.519},{x:.658,y:.306,z:.504},{x:.605,y:.347,z:.481},{x:.579,y:.361,z:.473},{x:.487,y:.306,z:.45},{x:.447,y:.333,z:.457},{x:.368,y:.375,z:.481},{x:.316,y:.403,z:.465},{x:.526,y:.361,z:.473},{x:.237,y:.444,z:.473},{x:.263,y:.514,z:.473},{x:.316,y:.569,z:.473},{x:.368,y:.569,z:.45},{x:.447,y:.694,z:.457},{x:.474,y:.708,z:.45},{x:.553,y:.708,z:.442},{x:.684,y:.694,z:.442},{x:.684,y:.708,z:.457},{x:.763,y:.611,z:.45},{x:.684,y:.597,z:.481},{x:.737,y:.528,z:.488},{x:.711,y:.5,z:.442},{x:.697,y:.417,z:.411},{x:.632,y:.431,z:.419},{x:.566,y:.389,z:.488},{x:.553,y:.389,z:.496},{x:.579,y:.417,z:.465},{x:.618,y:.528,z:.457},{x:.579,y:.611,z:.496},{x:.605,y:.556,z:.55},{x:.632,y:.639,z:.589},{x:.632,y:.708,z:.589},{x:.711,y:.792,z:.566},{x:.711,y:.75,z:.574},{x:.737,y:.861,z:.597},{x:.737,y:.833,z:.628},{x:.684,y:.847,z:.628},{x:.447,y:.833,z:.628},{x:.368,y:.806,z:.612},{x:.342,y:.806,z:.612},{x:.263,y:.708,z:.628},{x:.289,y:.653,z:.643},{x:.211,y:.611,z:.651},{x:.184,y:.556,z:.636},{x:.132,y:.472,z:.628},{x:.158,y:.361,z:.628},{x:.145,y:.361,z:.659},{x:.171,y:.278,z:.667},{x:.237,y:.25,z:.659},{x:.211,y:.153,z:.659},{x:.276,y:.208,z:.628},{x:.368,y:.111,z:.62},{x:.382,y:.125,z:.581},{x:.408,y:.111,z:.612},{x:.5,y:.167,z:.597},{x:.553,y:.125,z:.597},{x:.645,y:.139,z:.581},{x:.697,y:.194,z:.566},{x:.711,y:.292,z:.581},{x:.776,y:.333,z:.558},{x:.737,y:.375,z:.519},{x:.737,y:.417,z:.543},{x:.829,y:.486,z:.543},{x:.75,y:.528,z:.55},{x:.789,y:.653,z:.566},{x:.763,y:.667,z:.566},{x:.737,y:.764,z:.566},{x:.684,y:.806,z:.566},{x:.632,y:.819,z:.574},{x:.605,y:.889,z:.543},{x:.526,y:.792,z:.55},{x:.474,y:.792,z:.566},{x:.368,y:.75,z:.566},{x:.316,y:.75,z:.558},{x:.25,y:.722,z:.535},{x:.263,y:.625,z:.558},{x:.263,y:.569,z:.566},{x:.197,y:.5,z:.566},{x:.211,y:.486,z:.55},{x:.237,y:.375,z:.535},{x:.25,y:.306,z:.535},{x:.303,y:.278,z:.527},{x:.316,y:.25,z:.457},{x:.368,y:.208,z:.488},{x:.395,y:.167,z:.434},{x:.474,y:.181,z:.457},{x:.526,y:.222,z:.434},{x:.645,y:.333,z:.403},{x:.697,y:.347,z:.357},{x:.684,y:.444,z:.364},{x:.816,y:.528,z:.349},{x:.842,y:.556,z:.349},{x:.763,y:.583,z:.372},{x:.711,y:.694,z:.38},{x:.592,y:.722,z:.38},{x:.592,y:.778,z:.38},{x:.526,y:.792,z:.38},{x:.461,y:.736,z:.364},{x:.368,y:.694,z:.357},{x:.355,y:.611,z:.372},{x:.237,y:.597,z:.341},{x:.276,y:.5,z:.349},{x:.158,y:.208,z:.333},{x:.105,y:.431,z:.318},{x:.211,y:.333,z:.302},{x:.355,y:.069,z:.333},{x:.342,y:.264,z:.318},{x:.395,y:.236,z:.333},{x:.5,y:.264,z:.302},{x:.566,y:.25,z:.349},{x:.605,y:.306,z:.302},{x:.618,y:.333,z:.318},{x:.684,y:.389,z:.318},{x:.737,y:.472,z:.31},{x:.671,y:.486,z:.302},{x:.737,y:.542,z:.287},{x:.592,y:.625,z:.302},{x:.579,y:.667,z:.302},{x:.605,y:.75,z:.271},{x:.5,y:.667,z:.287},{x:.434,y:.667,z:.295},{x:.316,y:.667,z:.271},{x:.289,y:.611,z:.287},{x:.237,y:.569,z:.264},{x:.263,y:.514,z:.279},{x:.237,y:.403,z:.264},{x:.408,y:.361,z:.264},{x:.382,y:.319,z:.248},{x:.5,y:.264,z:.24},{x:.553,y:.278,z:.225},{x:.592,y:.361,z:.233},{x:.697,y:.375,z:.217},{x:.724,y:.472,z:.217},{x:.737,y:.583,z:.217},{x:.697,y:.653,z:.209},{x:.697,y:.653,z:.209},{x:.632,y:.736,z:.194},{x:.395,y:.736,z:.178},{x:.408,y:.611,z:.186},{x:.289,y:.583,z:.194},{x:.303,y:.5,z:.194},{x:.303,y:.5,z:.194},{x:.263,y:.361,z:.194},{x:.368,y:.333,z:.186},{x:.434,y:.333,z:.202},{x:.539,y:.333,z:.194},{x:.5,y:.278,z:.178},{x:.605,y:.194,z:.163},{x:.645,y:.194,z:.155},{x:.684,y:.389,z:.155},{x:.684,y:.458,z:.163},{x:.684,y:.556,z:.155},{x:.671,y:.639,z:.147},{x:.579,y:.694,z:.147},{x:.539,y:.75,z:.132},{x:.487,y:.75,z:.14},{x:.461,y:.611,z:.14},{x:.395,y:.639,z:.124},{x:.342,y:.5,z:.101},{x:.329,y:.486,z:.085},{x:.316,y:.444,z:.116},{x:.276,y:.417,z:.132},{x:.395,y:.333,z:.163},{x:.434,y:.306,z:.163},{x:.5,y:.25,z:.124},{x:.579,y:.25,z:.116},{x:.618,y:.361,z:.116},{x:.658,y:.417,z:.07},{x:.618,y:.486,z:.054},{x:.632,y:.528,z:.093},{x:.645,y:.639,z:.078},{x:.5,y:.667,z:.07},{x:.526,y:.778,z:.054},{x:.447,y:.722,z:.039},{x:.368,y:.556,z:.039},{x:.316,y:.556,z:.054},{x:.263,y:.778,z:.054},{x:.276,y:.444,z:.054},{x:.395,y:.333,z:.039},{x:.461,y:.292,z:.023},{x:.513,y:.306,z:.016},{x:.618,y:.472,z:.008},{x:.645,y:.5,z:.039},{x:.592,y:.556,z:.039},{x:.579,y:.611,z:.016},{x:.553,y:.625,z:.008},{x:.447,y:.611,z:0}];class a0{constructor(){l(this,"setup");l(this,"update");l(this,"lights",c0.map(t=>new I(y.fromObject(t),new o(0,0,0))));l(this,"time",null);l(this,"iteration",0);l(this,"running",!1)}async run(){var t,s,n;for((!this.running||this.time===null)&&(this.time=0,this.running=!0,(t=this.setup)==null||t.call(this));this.running;){this.time===null&&(this.time=0,(s=this.setup)==null||s.call(this));const e=1e3/this.fps;(n=this.update)==null||n.call(this,this.time,e,this.iteration),this.lightUpdate(this.time,e,this.iteration),this.draw(),this.iteration++,this.time+=e,await C(e)}}reset(){this.iteration=0,this.time=null;for(const t of this.lights)t.color=new o(0,0,0);this.draw()}pause(){this.running=!1}play(){this.running=!0,this.run()}step(){this.running=!0,this.run(),this.running=!1}lightUpdate(t,s,n){var e;for(const r of this.lights){const x=(e=r.update)==null?void 0:e.call(r,t,s,n);x&&(r.color=x)}}}class u0 extends a0{constructor(){super(...arguments);l(this,"_fps",30)}set fps(s){this._fps=s,postMessage({type:"fps",data:{fps:s}})}get fps(){return this._fps}draw(){postMessage({type:"update",data:{lights:this.lights.map(s=>s.toDto())}})}}const l0=new u0;exports.BlendMode=R;exports.Color=o;exports.Light=I;exports.Shapes=o0;exports.Utils=J;exports.Vector3=y;exports.colors=K;exports.runner=l0;
