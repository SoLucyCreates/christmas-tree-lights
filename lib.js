"use strict";var L=Object.defineProperty;var Z=(i,t,s)=>t in i?L(i,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):i[t]=s;var d=(i,t,s)=>(Z(i,typeof t!="symbol"?t+"":t,s),s);Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});class z{constructor(t,s,e){this.x=t,this.y=s,this.z=e}static fromObject(t){return new z(t.x,t.y,t.z)}static fromTuple(t){return new z(t[0],t[1],t[2])}static zero(){return new z(0,0,0)}static forward(){return new z(0,0,1)}static backward(){return new z(0,0,-1)}static up(){return new z(0,1,0)}static down(){return new z(0,-1,0)}static left(){return new z(-1,0,0)}static right(){return new z(1,0,0)}static randomOnSphere(t){const s=Math.random(),e=Math.random(),n=2*Math.PI*s,x=Math.acos(2*e-1),y=t*Math.sin(x)*Math.cos(n),h=t*Math.sin(x)*Math.sin(n),o=t*Math.cos(x);return new z(y,h,o)}static randomInSphere(t){const s=Math.random(),e=Math.random(),n=2*Math.PI*s,x=Math.acos(2*e-1),y=t*Math.cbrt(Math.random()),h=y*Math.sin(x)*Math.cos(n),o=y*Math.sin(x)*Math.sin(n),a=y*Math.cos(x);return new z(h,o,a)}clone(){return new z(this.x,this.y,this.z)}add(t){return new z(this.x+t.x,this.y+t.y,this.z+t.z)}sub(t){return new z(this.x-t.x,this.y-t.y,this.z-t.z)}mult(t){return new z(this.x*t.x,this.y*t.y,this.z*t.z)}dot(t){return this.x*t.x+this.y*t.y+this.z*t.z}cross(t){const s=this.y*t.z-this.z*t.y,e=this.z*t.x-this.x*t.z,n=this.x*t.y-this.y*t.x;return new z(s,e,n)}scale(t){return new z(this.x*t,this.y*t,this.z*t)}limitLength(t=1){return this.length<=t?this.clone():this.asLength(t)}asLength(t){return this.normalized.scale(t)}distanceTo(t){return Math.hypot(this.x-t.x,this.y-t.y,this.z-t.z)}get squaredMagnitude(){return this.x**2+this.y**2+this.z**2}get length(){return Math.hypot(this.x,this.y,this.z)}get normalized(){const t=this.length;return new z(this.x/t,this.y/t,this.z/t)}get asTuple(){return[this.x,this.y,this.z]}get asObject(){return{x:this.x,y:this.y,z:this.z}}negate(){return new z(-this.x,-this.y,-this.z)}rotateXYZ(t){const{x:s,y:e,z:n}=t,x=Math.cos(s),y=Math.sin(s),h=Math.cos(e),o=Math.sin(e),a=Math.cos(n),u=Math.sin(n),g=this.x*(h*a)+this.y*(x*u+y*o*a)+this.z*(y*u-x*o*a),l=this.x*(-h*u)+this.y*(x*a-y*o*u)+this.z*(y*a+x*o*u),A=this.x*o+this.y*(-y*h)+this.z*(x*h);return new z(g,l,A)}rotateXY(t){const s=Math.cos(t),e=Math.sin(t),n=this.x*s-this.y*e,x=this.x*e+this.y*s;return new z(n,x,this.z)}rotateYZ(t){const s=Math.cos(t),e=Math.sin(t),n=this.y*s-this.z*e,x=this.y*e+this.z*s;return new z(this.x,n,x)}rotateZX(t){const s=Math.cos(t),e=Math.sin(t),n=this.z*s-this.x*e,x=this.z*e+this.x*s;return new z(x,this.y,n)}rotateAroundAxis(t,s){const e=Math.cos(s),n=Math.sin(s),x=this.dot(t),y=t.y*this.z-t.z*this.y,h=t.z*this.x-t.x*this.z,o=t.x*this.y-t.y*this.x,a=this.x*e+y*n+x*(1-e)*t.x,u=this.y*e+h*n+x*(1-e)*t.y,g=this.z*e+o*n+x*(1-e)*t.z;return new z(a,u,g)}angleBetween(t){const s=this.dot(t),e=this.length*t.length;return Math.acos(s/e)}projectOnto(t){const s=this.dot(t),e=t.squaredMagnitude;if(e===0)throw new Error("Cannot project onto a zero-length vector.");const n=s/e;return t.scale(n)}midpoint(t){return new z((this.x+t.x)/2,(this.y+t.y)/2,(this.z+t.z)/2)}}function m(i,t,s){return Math.max(t,Math.min(s,i))}class r{constructor(t,s,e){this.red=t,this.green=s,this.blue=e}toString(){return`rgb(${this.red}, ${this.green}, ${this.blue})`}toInt(){return(this.red&255)<<16|(this.green&255)<<8|this.blue&255}static fromInt(t){return t=m(t,0,16777215),new r(t>>16&255,t>>8&255,t&255)}static fromHex(t){const s=t.match(/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i);if(!s)throw new Error(`Invalid hex color: ${t}`);return new r(parseInt(s[1],16),parseInt(s[2],16),parseInt(s[3],16))}static fromRGB(t,s,e){return t=m(t,0,255),s=m(s,0,255),e=m(e,0,255),new r(t,s,e)}static fromHSL(t,s,e){t=m(t,0,360),s=m(s,0,100),e=m(e,0,100),t/=360,s/=100,e/=100;let n,x,y;if(s===0)n=x=y=e;else{const h=(u,g,l)=>(l<0&&(l+=1),l>1&&(l-=1),l<.16666666666666666?u+(g-u)*6*l:l<.5?g:l<.6666666666666666?u+(g-u)*(.6666666666666666-l)*6:u),o=e<.5?e*(1+s):e+s-e*s,a=2*e-o;n=h(a,o,t+1/3),x=h(a,o,t),y=h(a,o,t-1/3)}return new r(Math.round(n*255),Math.round(x*255),Math.round(y*255))}}const C={red:new r(255,0,0),green:new r(0,255,0),blue:new r(0,0,255),orange:new r(255,165,0),yellow:new r(255,255,0),purple:new r(128,0,128),pink:new r(255,20,147),white:new r(255,255,255),black:new r(0,0,0),gray:new r(128,128,128),brown:new r(165,42,42),cyan:new r(0,255,255),darkGreen:new r(0,128,0),darkBlue:new r(0,0,128),darkOrange:new r(255,140,0),darkYellow:new r(128,128,0),darkPurple:new r(75,0,130),darkPink:new r(255,105,180),darkGray:new r(64,64,64),darkBrown:new r(139,69,19),darkCyan:new r(0,128,128)};class M{constructor(t,s){d(this,"_location");d(this,"color");d(this,"update");this._location=t,this.color=s}get location(){return new z(this._location.x,this._location.y,1-this._location.z)}get locationScaled(){return this.location.mult(new z(1,1,1.74))}get locationOriginCenter(){return this.location.sub(new z(.5,.5,.5))}get locationOriginCenterScaled(){return this.locationOriginCenter.mult(new z(1,1,1.74))}get locationOriginCenterBottom(){return this.location.sub(new z(.5,.5,0))}get locationOriginCenterBottomScaled(){return this.locationOriginCenterBottom.mult(new z(1,1,1.74))}toDto(){return{location:this._location.asTuple,color:this.color.toInt()}}static fromDto(t){return new M(z.fromTuple(t.location),r.fromInt(t.color))}}class c{constructor(){}isPointInside(t,s,e){return!1}}class O extends c{constructor(t,s,e){super(),this.radius=t,this.height=s,this.center=e}isPointInside(t,s,e){const n=Math.sqrt((t-this.center.x)**2+(s-this.center.y)**2),y=this.radius/this.height*(e-this.center.z)+this.radius;return n<=y&&e>=this.center.z-this.height/2&&e<=this.center.z+this.height/2}}class S extends c{constructor(t,s,e,n){super(),this.nearRadius=t,this.farRadius=s,this.height=e,this.center=n}isPointInside(t,s,e){const n=Math.sqrt((t-this.center.x)**2+(s-this.center.y)**2),y=(this.farRadius-this.nearRadius)/this.height*(e-this.center.z)+this.nearRadius;return n<=y&&e>=this.center.z-this.height/2&&e<=this.center.z+this.height/2}}class j extends c{constructor(t,s){super(),this.sideLength=t,this.center=s}isPointInside(t,s,e){const n=this.sideLength/2;return Math.abs(t-this.center.x)<=n&&Math.abs(s-this.center.y)<=n&&Math.abs(e-this.center.z)<=n}}class k extends c{constructor(t,s,e,n){super(),this.lengthX=t,this.lengthY=s,this.lengthZ=e,this.center=n}isPointInside(t,s,e){const n=this.lengthX/2,x=this.lengthY/2,y=this.lengthZ/2;return t>=this.center.x-n&&t<=this.center.x+n&&s>=this.center.y-x&&s<=this.center.y+x&&e>=this.center.z-y&&e<=this.center.z+y}}class B extends c{constructor(t,s,e){super(),this.radius=t,this.height=s,this.center=e}isPointInside(t,s,e){return Math.sqrt((t-this.center.x)**2+(s-this.center.y)**2)<=this.radius&&e>=this.center.z-this.height/2&&e<=this.center.z+this.height/2}}class q extends c{constructor(t,s,e,n){super(),this.majorRadius=t,this.minorRadius=s,this.height=e,this.center=n}isPointInside(t,s,e){return Math.sqrt((t-this.center.x)**2+(s-this.center.y)**2)<=this.majorRadius&&e>=this.center.z-this.height/2&&e<=this.center.z+this.height/2&&Math.sqrt((t-this.center.x)**2/this.majorRadius**2+(s-this.center.y)**2/this.minorRadius**2)<=1}}class E extends c{constructor(t,s,e,n){super(),this.semiAxisX=t,this.semiAxisY=s,this.semiAxisZ=e,this.center=n}isPointInside(t,s,e){const n=(t-this.center.x)/this.semiAxisX,x=(s-this.center.y)/this.semiAxisY,y=(e-this.center.z)/this.semiAxisZ;return n**2+x**2+y**2<=1}}class D extends c{constructor(t,s,e,n,x,y,h){super(),this.near=t,this.far=s,this.left=e,this.right=n,this.top=x,this.bottom=y,this.center=h}isPointInside(t,s,e){const n=this.near/2,x=this.far/2;return t>=this.center.x-n&&t<=this.center.x+n&&s>=this.center.y-n&&s<=this.center.y+n&&e>=this.center.z-n&&e<=this.center.z+x}}class $ extends c{constructor(t,s,e){super(),this.sideLength=t,this.height=s,this.center=e}isPointInside(t,s,e){const n=this.sideLength/2,x=this.center.z+this.height/2,y=this.center.z-this.height/2;this.center.x+n,this.center.y+n;const h=Math.abs(t-this.center.x),o=Math.abs(s-this.center.y);return e>=y&&e<=x&&h<=n&&o<=n&&(h+o)*Math.sqrt(3)/2<=n}}class F extends c{constructor(t,s){super(),this.edgeLength=t,this.center=s}isPointInside(t,s,e){const n=this.edgeLength/2,x=this.center.z+n,y=this.center.z-n;this.center.x+n,this.center.y+n;const h=Math.abs(t-this.center.x),o=Math.abs(s-this.center.y);return e>=y&&e<=x&&h+o+Math.abs(e-this.center.z)<=n}}class G extends c{constructor(t,s,e){super(),this.baseLength=t,this.height=s,this.center=e}isPointInside(t,s,e){const n=this.baseLength/2,x=this.center.z+this.height/2,y=this.center.z-this.height/2,h=this.center.x+n,o=this.center.y+n;return!(e>x||e<y||t>h||t<this.center.x-n||s>o||s<this.center.y-n)}}class H extends c{constructor(t,s,e,n){super(),this.lengthX=t,this.lengthY=s,this.lengthZ=e,this.center=n}isPointInside(t,s,e){const n=this.lengthX/2,x=this.lengthY/2,y=this.lengthZ/2;return t>=this.center.x-n&&t<=this.center.x+n&&s>=this.center.y-x&&s<=this.center.y+x&&e>=this.center.z-y&&e<=this.center.z+y}}class U extends c{constructor(t,s){super(),this.radius=t,this.center=s}isPointInside(t,s,e){return Math.sqrt((t-this.center.x)**2+(s-this.center.y)**2+(e-this.center.z)**2)<=this.radius}}class N extends c{constructor(t,s,e){super(),this.majorRadius=t,this.minorRadius=s,this.center=e}isPointInside(t,s,e){const n=Math.sqrt((t-this.center.x)**2+(s-this.center.y)**2);return n>=this.majorRadius-this.minorRadius&&n<=this.majorRadius+this.minorRadius&&Math.abs(e-this.center.z)<=this.minorRadius}}class W extends c{constructor(t,s,e){super(),this.baseLength=t,this.height=s,this.center=e}isPointInside(t,s,e){const n=this.baseLength/2,x=this.center.z+this.height/2,y=this.center.z-this.height/2,h=this.center.x+n,o=this.center.y+n;return e>=y&&e<=x&&t>=this.center.x-n&&t<=h&&s>=this.center.y-n&&s<=o}}const J=180/Math.PI,K=Math.PI/180,f=Y(Array.from({length:256},(i,t)=>t));function P(i){return i*i*i*(i*(i*6-15)+10)}function w(i,t,s){const e=i&15,n=e<8?t:s,x=e<4?s:e===12||e===14?t:0;return(e&1?-n:n)+(e&2?-x:x)}function Q(i,t){const s=Math.floor(i)&255,e=Math.floor(t)&255;i-=Math.floor(i),t-=Math.floor(t);const n=P(i),x=P(t),y=f[s]+e,h=f[s+1]+e;return p(p(w(f[y],i,t),w(f[h],i-1,t),n),p(w(f[y+1],i,t-1),w(f[h+1],i-1,t-1),n),x)}function v(i,t,s){return Math.min(Math.max(i,t),s)}function p(i,t,s){return i+(t-i)*s}function _(i,t,s){return i+I(t,i)*s}function I(i,t){return(t-i+180)%360-180}function V(i,t){return(i%t+t)%t}function T(i,t){return i+Math.random()*(t-i)}function b(i,t){return Math.floor(T(i,t))}function t0(i){return i[b(0,i.length)]}function R(){return Math.random()<.5}function s0(){return R()?1:-1}function Y(i){const t=i.slice();for(let s=t.length-1;s>0;s--){const e=b(0,s+1);[t[s],t[e]]=[t[e],t[s]]}return t}function e0(i){for(let t=i.length-1;t>0;t--){const s=b(0,t+1);[i[t],i[s]]=[i[s],i[t]]}return i}function X(i){return new Promise(t=>setTimeout(t,i))}const n0=Object.freeze(Object.defineProperty({__proto__:null,DEG_TO_RAD:K,RAD_TO_DEG:J,angleDifference:I,clamp:v,lerp:p,lerpAngle:_,mod:V,perlinNoise:Q,random:T,randomBool:R,randomChoice:t0,randomInt:b,randomSign:s0,shuffle:Y,shuffleInPlace:e0,sleep:X},Symbol.toStringTag,{value:"Module"})),i0=[{x:.5,y:.056,z:1},{x:.526,y:.042,z:.969},{x:.526,y:.042,z:.922},{x:.487,y:.097,z:.938},{x:.447,y:.097,z:.961},{x:.421,y:.222,z:.961},{x:.526,y:.153,z:.922},{x:.421,y:.139,z:.938},{x:.395,y:.181,z:.961},{x:.368,y:.222,z:.969},{x:.237,y:.25,z:.977},{x:.224,y:.319,z:1},{x:.184,y:.333,z:.977},{x:.158,y:.361,z:.93},{x:.158,y:.417,z:.969},{x:.132,y:.514,z:.953},{x:.197,y:.556,z:.984},{x:.145,y:.597,z:.961},{x:.132,y:.667,z:.946},{x:.145,y:.722,z:.938},{x:.184,y:.778,z:.938},{x:.211,y:.806,z:.961},{x:.316,y:.778,z:.969},{x:.368,y:.806,z:.961},{x:.434,y:.778,z:.922},{x:.487,y:.819,z:.953},{x:.566,y:.792,z:.953},{x:.658,y:.75,z:.969},{x:.684,y:.722,z:.969},{x:.711,y:.708,z:1},{x:.803,y:.681,z:1},{x:.855,y:.625,z:1},{x:.895,y:.583,z:.969},{x:1,y:.528,z:.938},{x:.987,y:.472,z:.984},{x:.895,y:.417,z:.984},{x:.868,y:.375,z:.969},{x:.921,y:.319,z:.922},{x:.895,y:.278,z:.899},{x:.803,y:.194,z:.876},{x:.789,y:.208,z:.899},{x:.684,y:.181,z:.891},{x:.671,y:.181,z:.876},{x:.605,y:.181,z:.868},{x:.566,y:.139,z:.891},{x:.5,y:.153,z:.907},{x:.434,y:.139,z:.907},{x:.342,y:.167,z:.915},{x:.303,y:.139,z:.899},{x:.237,y:.153,z:.868},{x:.145,y:.333,z:.822},{x:.145,y:.444,z:.814},{x:.105,y:.5,z:.798},{x:.118,y:.542,z:.822},{x:.197,y:.597,z:.798},{x:.224,y:.667,z:.822},{x:.237,y:.736,z:.837},{x:.276,y:.806,z:.837},{x:.303,y:.833,z:.86},{x:.368,y:.889,z:.86},{x:.421,y:.889,z:.86},{x:.513,y:.833,z:.853},{x:.579,y:.847,z:.845},{x:.658,y:.889,z:.837},{x:.697,y:.861,z:.822},{x:.816,y:.819,z:.822},{x:.842,y:.764,z:.845},{x:.816,y:.694,z:.876},{x:.789,y:.611,z:.868},{x:.868,y:.528,z:.884},{x:.921,y:.514,z:.845},{x:.947,y:.417,z:.86},{x:.882,y:.347,z:.868},{x:.816,y:.333,z:.86},{x:.789,y:.264,z:.845},{x:.724,y:.306,z:.829},{x:.684,y:.208,z:.806},{x:.579,y:.264,z:.806},{x:.513,y:.236,z:.798},{x:.447,y:.236,z:.767},{x:.382,y:.264,z:.775},{x:.342,y:.278,z:.767},{x:.303,y:.333,z:.775},{x:.289,y:.417,z:.775},{x:.289,y:.486,z:.775},{x:.25,y:.569,z:.767},{x:.263,y:.639,z:.767},{x:.263,y:.75,z:.767},{x:.289,y:.792,z:.767},{x:.368,y:.875,z:.744},{x:.395,y:.875,z:.775},{x:.474,y:.875,z:.791},{x:.539,y:.875,z:.814},{x:.605,y:.806,z:.791},{x:.697,y:.764,z:.744},{x:.763,y:.806,z:.744},{x:.724,y:.736,z:.752},{x:.763,y:.639,z:.76},{x:.737,y:.569,z:.736},{x:.487,y:.528,z:.775},{x:.605,y:.431,z:.798},{x:.618,y:.361,z:.829},{x:.579,y:.389,z:.829},{x:.487,y:.347,z:.845},{x:.447,y:.444,z:.845},{x:.408,y:.431,z:.876},{x:.421,y:.472,z:.876},{x:.368,y:.556,z:.891},{x:.382,y:.583,z:.876},{x:.461,y:.611,z:.853},{x:.487,y:.611,z:.853},{x:.526,y:.667,z:.837},{x:.618,y:.611,z:.86},{x:.632,y:.611,z:.868},{x:.671,y:.514,z:.876},{x:.684,y:.458,z:.899},{x:.763,y:.431,z:.899},{x:.803,y:.333,z:.907},{x:.789,y:.25,z:.891},{x:.842,y:.167,z:.899},{x:.789,y:.222,z:.938},{x:.711,y:.111,z:.93},{x:.408,y:.194,z:.938},{x:.632,y:.167,z:.93},{x:.605,y:.083,z:.946},{x:.526,y:.014,z:.961},{x:.434,y:0,z:.938},{x:.368,y:.042,z:.953},{x:.368,y:.139,z:.946},{x:.276,y:.167,z:.946},{x:.25,y:.222,z:.946},{x:.211,y:.25,z:.876},{x:.145,y:.222,z:.915},{x:.092,y:.194,z:.907},{x:.026,y:.278,z:.93},{x:.105,y:.347,z:.953},{x:.013,y:.389,z:.961},{x:.092,y:.5,z:.977},{x:.026,y:.583,z:.984},{x:0,y:.625,z:.953},{x:.026,y:.694,z:.953},{x:.053,y:.75,z:.961},{x:.105,y:.75,z:.977},{x:.211,y:.764,z:.977},{x:.237,y:.792,z:.969},{x:.355,y:.764,z:.961},{x:.118,y:.792,z:.946},{x:.474,y:.819,z:.907},{x:.447,y:.861,z:.876},{x:.5,y:.806,z:.837},{x:.579,y:.917,z:.798},{x:.658,y:.917,z:.775},{x:.684,y:.958,z:.806},{x:.724,y:.972,z:.86},{x:.658,y:.986,z:.884},{x:.605,y:.972,z:.884},{x:.513,y:1,z:.891},{x:.474,y:.917,z:.884},{x:.368,y:.931,z:.876},{x:.329,y:.875,z:.876},{x:.263,y:.931,z:.829},{x:.211,y:.903,z:.86},{x:.158,y:.833,z:.868},{x:.105,y:.75,z:.884},{x:.132,y:.653,z:.837},{x:.105,y:.625,z:.853},{x:.039,y:.569,z:.806},{x:.053,y:.528,z:.822},{x:.105,y:.458,z:.806},{x:.132,y:.375,z:.767},{x:.211,y:.333,z:.798},{x:.263,y:.319,z:.775},{x:.289,y:.25,z:.775},{x:.263,y:.403,z:.767},{x:.355,y:.167,z:.798},{x:.408,y:.125,z:.814},{x:.487,y:.125,z:.806},{x:.553,y:.069,z:.791},{x:.632,y:.083,z:.775},{x:.671,y:.069,z:.736},{x:.632,y:.194,z:.752},{x:.737,y:.208,z:.752},{x:.763,y:.25,z:.76},{x:.776,y:.319,z:.791},{x:.763,y:.361,z:.806},{x:.789,y:.444,z:.806},{x:.776,y:.5,z:.806},{x:.711,y:.583,z:.775},{x:.711,y:.611,z:.775},{x:.658,y:.708,z:.752},{x:.592,y:.75,z:.736},{x:.618,y:.708,z:.798},{x:.592,y:.722,z:.721},{x:.487,y:.736,z:.744},{x:.474,y:.708,z:.783},{x:.447,y:.639,z:.783},{x:.395,y:.625,z:.767},{x:.421,y:.583,z:.744},{x:.368,y:.611,z:.736},{x:.316,y:.569,z:.69},{x:.25,y:.653,z:.69},{x:.184,y:.667,z:.682},{x:.237,y:.681,z:.721},{x:.158,y:.722,z:.767},{x:.224,y:.764,z:.783},{x:.289,y:.764,z:.744},{x:.342,y:.778,z:.76},{x:.408,y:.736,z:.713},{x:.434,y:.806,z:.729},{x:.5,y:.875,z:.713},{x:.553,y:.875,z:.744},{x:.632,y:.847,z:.744},{x:.711,y:.806,z:.721},{x:.684,y:.806,z:.682},{x:.789,y:.792,z:.69},{x:.711,y:.694,z:.667},{x:.789,y:.708,z:.721},{x:.763,y:.639,z:.713},{x:.868,y:.583,z:.721},{x:.855,y:.458,z:.698},{x:.855,y:.472,z:.698},{x:.842,y:.403,z:.674},{x:.776,y:.333,z:.682},{x:.737,y:.25,z:.682},{x:.434,y:.264,z:.705},{x:.658,y:.222,z:.674},{x:.553,y:.222,z:.69},{x:.526,y:.181,z:.659},{x:.434,y:.111,z:.667},{x:.368,y:.167,z:.674},{x:.316,y:.222,z:.651},{x:.316,y:.278,z:.674},{x:.263,y:.292,z:.674},{x:.25,y:.361,z:.667},{x:.211,y:.458,z:.612},{x:.237,y:.514,z:.667},{x:.237,y:.542,z:.667},{x:.263,y:.653,z:.667},{x:.224,y:.694,z:.659},{x:.289,y:.764,z:.628},{x:.276,y:.847,z:.643},{x:.355,y:.819,z:.659},{x:.408,y:.903,z:.667},{x:.474,y:.889,z:.69},{x:.553,y:.861,z:.69},{x:.605,y:.903,z:.682},{x:.671,y:.847,z:.674},{x:.737,y:.889,z:.643},{x:.763,y:.806,z:.659},{x:.763,y:.75,z:.674},{x:.842,y:.611,z:.628},{x:.816,y:.5,z:.589},{x:.895,y:.5,z:.581},{x:.592,y:.444,z:.636},{x:.816,y:.417,z:.659},{x:.737,y:.347,z:.667},{x:.658,y:.278,z:.628},{x:.658,y:.25,z:.605},{x:.592,y:.222,z:.612},{x:.553,y:.278,z:.659},{x:.539,y:.278,z:.659},{x:.461,y:.278,z:.651},{x:.434,y:.292,z:.566},{x:.382,y:.292,z:.651},{x:.342,y:.333,z:.667},{x:.303,y:.431,z:.651},{x:.224,y:.389,z:.62},{x:.289,y:.431,z:.62},{x:.211,y:.528,z:.643},{x:.316,y:.611,z:.674},{x:.342,y:.667,z:.651},{x:.355,y:.653,z:.643},{x:.395,y:.667,z:.589},{x:.395,y:.653,z:.574},{x:.474,y:.639,z:.581},{x:.461,y:.583,z:.597},{x:.566,y:.569,z:.581},{x:.513,y:.458,z:.597},{x:.447,y:.486,z:.589},{x:.421,y:.417,z:.574},{x:.368,y:.375,z:.504},{x:.316,y:.306,z:.504},{x:.303,y:.403,z:.519},{x:.289,y:.486,z:.488},{x:.316,y:.5,z:.543},{x:.421,y:.611,z:.55},{x:.447,y:.667,z:.55},{x:.5,y:.625,z:.55},{x:.5,y:.556,z:.543},{x:.566,y:.556,z:.527},{x:.513,y:.5,z:.519},{x:.553,y:.389,z:.488},{x:.487,y:.306,z:.473},{x:.447,y:.236,z:.457},{x:.434,y:.292,z:.496},{x:.368,y:.306,z:.504},{x:.342,y:.361,z:.504},{x:.289,y:.403,z:.473},{x:.303,y:.458,z:.519},{x:.303,y:.542,z:.504},{x:.395,y:.694,z:.481},{x:.368,y:.75,z:.488},{x:.447,y:.75,z:.496},{x:.474,y:.833,z:.488},{x:.553,y:.792,z:.488},{x:.605,y:.833,z:.481},{x:.658,y:.764,z:.442},{x:.737,y:.708,z:.465},{x:.737,y:.639,z:.481},{x:.737,y:.597,z:.488},{x:.711,y:.542,z:.504},{x:.789,y:.472,z:.512},{x:.789,y:.375,z:.519},{x:.737,y:.306,z:.519},{x:.658,y:.306,z:.504},{x:.605,y:.347,z:.481},{x:.579,y:.361,z:.473},{x:.487,y:.306,z:.45},{x:.447,y:.333,z:.457},{x:.368,y:.375,z:.481},{x:.316,y:.403,z:.465},{x:.526,y:.361,z:.473},{x:.237,y:.444,z:.473},{x:.263,y:.514,z:.473},{x:.316,y:.569,z:.473},{x:.368,y:.569,z:.45},{x:.447,y:.694,z:.457},{x:.474,y:.708,z:.45},{x:.553,y:.708,z:.442},{x:.684,y:.694,z:.442},{x:.684,y:.708,z:.457},{x:.763,y:.611,z:.45},{x:.684,y:.597,z:.481},{x:.737,y:.528,z:.488},{x:.711,y:.5,z:.442},{x:.697,y:.417,z:.411},{x:.632,y:.431,z:.419},{x:.566,y:.389,z:.488},{x:.553,y:.389,z:.496},{x:.579,y:.417,z:.465},{x:.618,y:.528,z:.457},{x:.579,y:.611,z:.496},{x:.605,y:.556,z:.55},{x:.632,y:.639,z:.589},{x:.632,y:.708,z:.589},{x:.711,y:.792,z:.566},{x:.711,y:.75,z:.574},{x:.737,y:.861,z:.597},{x:.737,y:.833,z:.628},{x:.684,y:.847,z:.628},{x:.447,y:.833,z:.628},{x:.368,y:.806,z:.612},{x:.342,y:.806,z:.612},{x:.263,y:.708,z:.628},{x:.289,y:.653,z:.643},{x:.211,y:.611,z:.651},{x:.184,y:.556,z:.636},{x:.132,y:.472,z:.628},{x:.158,y:.361,z:.628},{x:.145,y:.361,z:.659},{x:.171,y:.278,z:.667},{x:.237,y:.25,z:.659},{x:.211,y:.153,z:.659},{x:.276,y:.208,z:.628},{x:.368,y:.111,z:.62},{x:.382,y:.125,z:.581},{x:.408,y:.111,z:.612},{x:.5,y:.167,z:.597},{x:.553,y:.125,z:.597},{x:.645,y:.139,z:.581},{x:.697,y:.194,z:.566},{x:.711,y:.292,z:.581},{x:.776,y:.333,z:.558},{x:.737,y:.375,z:.519},{x:.737,y:.417,z:.543},{x:.829,y:.486,z:.543},{x:.75,y:.528,z:.55},{x:.789,y:.653,z:.566},{x:.763,y:.667,z:.566},{x:.737,y:.764,z:.566},{x:.684,y:.806,z:.566},{x:.632,y:.819,z:.574},{x:.605,y:.889,z:.543},{x:.526,y:.792,z:.55},{x:.474,y:.792,z:.566},{x:.368,y:.75,z:.566},{x:.316,y:.75,z:.558},{x:.25,y:.722,z:.535},{x:.263,y:.625,z:.558},{x:.263,y:.569,z:.566},{x:.197,y:.5,z:.566},{x:.211,y:.486,z:.55},{x:.237,y:.375,z:.535},{x:.25,y:.306,z:.535},{x:.303,y:.278,z:.527},{x:.316,y:.25,z:.457},{x:.368,y:.208,z:.488},{x:.395,y:.167,z:.434},{x:.474,y:.181,z:.457},{x:.526,y:.222,z:.434},{x:.645,y:.333,z:.403},{x:.697,y:.347,z:.357},{x:.684,y:.444,z:.364},{x:.816,y:.528,z:.349},{x:.842,y:.556,z:.349},{x:.763,y:.583,z:.372},{x:.711,y:.694,z:.38},{x:.592,y:.722,z:.38},{x:.592,y:.778,z:.38},{x:.526,y:.792,z:.38},{x:.461,y:.736,z:.364},{x:.368,y:.694,z:.357},{x:.355,y:.611,z:.372},{x:.237,y:.597,z:.341},{x:.276,y:.5,z:.349},{x:.158,y:.208,z:.333},{x:.105,y:.431,z:.318},{x:.211,y:.333,z:.302},{x:.355,y:.069,z:.333},{x:.342,y:.264,z:.318},{x:.395,y:.236,z:.333},{x:.5,y:.264,z:.302},{x:.566,y:.25,z:.349},{x:.605,y:.306,z:.302},{x:.618,y:.333,z:.318},{x:.684,y:.389,z:.318},{x:.737,y:.472,z:.31},{x:.671,y:.486,z:.302},{x:.737,y:.542,z:.287},{x:.592,y:.625,z:.302},{x:.579,y:.667,z:.302},{x:.605,y:.75,z:.271},{x:.5,y:.667,z:.287},{x:.434,y:.667,z:.295},{x:.316,y:.667,z:.271},{x:.289,y:.611,z:.287},{x:.237,y:.569,z:.264},{x:.263,y:.514,z:.279},{x:.237,y:.403,z:.264},{x:.408,y:.361,z:.264},{x:.382,y:.319,z:.248},{x:.5,y:.264,z:.24},{x:.553,y:.278,z:.225},{x:.592,y:.361,z:.233},{x:.697,y:.375,z:.217},{x:.724,y:.472,z:.217},{x:.737,y:.583,z:.217},{x:.697,y:.653,z:.209},{x:.697,y:.653,z:.209},{x:.632,y:.736,z:.194},{x:.395,y:.736,z:.178},{x:.408,y:.611,z:.186},{x:.289,y:.583,z:.194},{x:.303,y:.5,z:.194},{x:.303,y:.5,z:.194},{x:.263,y:.361,z:.194},{x:.368,y:.333,z:.186},{x:.434,y:.333,z:.202},{x:.539,y:.333,z:.194},{x:.5,y:.278,z:.178},{x:.605,y:.194,z:.163},{x:.645,y:.194,z:.155},{x:.684,y:.389,z:.155},{x:.684,y:.458,z:.163},{x:.684,y:.556,z:.155},{x:.671,y:.639,z:.147},{x:.579,y:.694,z:.147},{x:.539,y:.75,z:.132},{x:.487,y:.75,z:.14},{x:.461,y:.611,z:.14},{x:.395,y:.639,z:.124},{x:.342,y:.5,z:.101},{x:.329,y:.486,z:.085},{x:.316,y:.444,z:.116},{x:.276,y:.417,z:.132},{x:.395,y:.333,z:.163},{x:.434,y:.306,z:.163},{x:.5,y:.25,z:.124},{x:.579,y:.25,z:.116},{x:.618,y:.361,z:.116},{x:.658,y:.417,z:.07},{x:.618,y:.486,z:.054},{x:.632,y:.528,z:.093},{x:.645,y:.639,z:.078},{x:.5,y:.667,z:.07},{x:.526,y:.778,z:.054},{x:.447,y:.722,z:.039},{x:.368,y:.556,z:.039},{x:.316,y:.556,z:.054},{x:.263,y:.778,z:.054},{x:.276,y:.444,z:.054},{x:.395,y:.333,z:.039},{x:.461,y:.292,z:.023},{x:.513,y:.306,z:.016},{x:.618,y:.472,z:.008},{x:.645,y:.5,z:.039},{x:.592,y:.556,z:.039},{x:.579,y:.611,z:.016},{x:.553,y:.625,z:.008},{x:.447,y:.611,z:0}];class x0{constructor(){d(this,"setup");d(this,"update");d(this,"lights",i0.map(t=>new M(z.fromObject(t),new r(0,0,0))));d(this,"time",null);d(this,"iteration",0);d(this,"running",!1)}async run(){var t,s;for((!this.running||this.time===null)&&(this.time=0,this.running=!0,(t=this.setup)==null||t.call(this));this.running;){const e=1e3/this.fps;this.iteration++,this.time+=e,(s=this.update)==null||s.call(this,this.time,e,this.iteration),this.lightUpdate(this.time,e,this.iteration),this.draw(),await X(e)}}reset(){this.iteration=0,this.time=null;for(const t of this.lights)t.color=new r(0,0,0);this.draw()}pause(){this.running=!1}play(){this.running=!0,this.run()}step(){this.running=!0,this.run(),this.running=!1}lightUpdate(t,s,e){var n;for(const x of this.lights){const y=(n=x.update)==null?void 0:n.call(x,t,s,e);y&&(x.color=y)}}}class y0 extends x0{constructor(){super(...arguments);d(this,"fps",30)}draw(){postMessage({type:"update",data:{lights:this.lights.map(s=>s.toDto())}})}}const z0=new y0;exports.Color=r;exports.Cone=O;exports.ConeFrustum=S;exports.Cube=j;exports.Cuboid=k;exports.Cylinder=B;exports.CylinderWithEllipticalBase=q;exports.Ellipsoid=E;exports.Frustum=D;exports.HexagonalPrism=$;exports.Light=M;exports.Octahedron=F;exports.Pyramid=G;exports.RectangularPrism=H;exports.Shape=c;exports.Sphere=U;exports.Torus=N;exports.TriangularPyramid=W;exports.Utils=n0;exports.Vector3=z;exports.colors=C;exports.runner=z0;
